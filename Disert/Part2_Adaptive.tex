% -*-coding: koi8-r;-*-
% $Id: Part2_Adaptive.tex,v 1.2 2005-02-10 20:58:07 evlad Exp $
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Адаптация нейросетевого регулятора}%
\label{noc_adaptive}

Предложенная методика синтеза нейросетевого регулятора согласно
поставленной задаче (смотри п.~\ref{neural_optimal_control}),
ограничена стационарным случаем.  Это правомерно при сопоставлении с
Винеровским оптимальным регулятором, однако в практике систем
автоматического управления часты ситуации изменения номинальных
параметров объекта и сигналов.  Дрейф параметров может привести к
ухудшению качества управления в контуре и даже к потере устойчивости,
поэтому важным достоинством любого алгоритма управления является его
адаптивность, то есть, возможность подстройки регулятора в процессе
управления для компенсации дрейфа.

Задача адаптивного управления состоит из двух важных независимо
решаемых подзадач:
\begin{itemize}

\item
Обнаружение разладки --- дрейфа параметров относительно номинальных.

\item
Собственно алгоритм подстройки контура управления для устранения
негативных последствий разладки.

\end{itemize}

%Следуя предмету исследования --- нейросетевому регулятору ---
%рассмотрим в первую очередь способ 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Виды разладки и условие активации алгоритма адаптации}%
%\label{}

В классической задаче стохастического оптимального управления
заданными считаются параметры уставки, помехи и объекта управления.  В
условиях эксплуатации каждый из них может измениться.  В то же время,
результаты экспериментов с неноминальными условиями (\ref{W1op_case},
\ref{W2op_case}) показывают, что не всегда разладка приводит к
ухудшению качества управления.  Это относится как к линейным, так и к
нейросетевому регулятору.  По этой причине не всегда факт разладки
должен приводить к подстройке управляющего алгоритма.

%имеет смысл определять
%разладку по увеличению дисперсии ошибки управления.

Рассмотрим отдельно аспекты разладки по каждой составляющей
номинальных условий.

\begin{enumerate}

\item
Сигнал уставки доступен для непосредственного измерения.  Очевидно,
что изменение его параметров может быть обнаружено непосредственно.
Тем не менее, установленный факт изменившейся уставки сам по себе не
является достаточной причиной для включения механизма адаптации;
необходимо ухудшение качества управления.  Ошибка идентификации
ухудшается при изменении уставки только если сигнал на управляющем
выходе регулятора выходит за границу области гарантированного качества
НС--О.

\item
Помеха присутствует в системе управления неявно.  Вследствие этого
изменение параметров помехи (спектральный состав, мощность) может быть
обнаружено только косвенно, по изменившейся среднеквадратичной ошибке
управления и идентификации (при включенной в контур нейросетевой
модели объекта управления).

\item
Изменение свойств объекта управления проявляет себя косвенно --- через
увеличение ошибки управления и идентификации.

\end{enumerate}

Схожесть признаков разладки по помехе и по объекту не позволяет
различить эти ситуации, однако при адаптации нейросетевого объекта
управления разладка по помехе не позволит значительно уменьшить ошибку
идентификации.

%Целесообразно использовать сигнал ошибки управления для обнаружения
%разладки, требующей адаптации нейросетевого регулятора.

Разладка, зафиксированная по ошибке идентификации, сама по себе не
может привести к ухудшению качества управления, так как в режиме
рабочего функционирования нейросетевая модель объекта не используется.
Однако, нейросетевая модель используется при дообучении НС--Р, поэтому
в случае одновременного обнаружения разладки по ошибкам управления и
идентификации необходимо сначала привести НС--О в соответствие с
актуальным состоянием объекта и, лишь затем, дообучать (адаптировать)
нейросетевой регулятор.

Учитывая, что критерием качества управления в рассматриваемой задаче
управления является минимизация среднеквадратичной ошибки управления,
наиболее подходящей статистикой, на которой целесообразно обнаруживать
разладку, является дисперсия.  Для обнаружения разладки следует
воспользоваться одним из методов, применимых для дискретных случайных
процессов, например, одной из разновидностей алгоритма кумулятивных
сумм.  Обзор и анализ методов обнаружения разладки приводится в
работе~\cite{filatov83}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Адаптация нейросетевого регулятора в контуре}%
%\label{}

Как уже отмечалось, в процессе эксплуатации системы управления могут
иметь место три причины разладки: изменение параметров уставки, помехи
и объекта управления.  Будем считать, что с помощью подходящего
алгоритма разладка была обнаружена и по ошибке управления $e_c$, и по
ошибке идентификации $e_{id}$.

Возникает задача подстройки нейросетевого регулятора.  Разладка по
ошибке идентификации свидетельствует о значительном ухудшении качества
имитации объекта управления вызванное изменением параметров объекта
или диапазонов входных сигналов НС--О.  Любая из этих причин дает
достаточное основание для дообучения нейросетевой модели объекта
управления.  Процедура обучения НС--О описана в п.~\ref{nnpsynthesis},
она осуществляется вне контура управления и не связана с его
динамикой.

По завершении настройки нового экземпляра НС--О возможно начать
процедуру дообучения НС--Р в контуре управления.  Начальным
приближением в этом случае является уже имеющийся нейросетевой
регулятор.  Дообучение осуществляется по правилам, изложенным в
п.~\ref{nnc_final_training}.

\begin{figure}[h]
  \centering
  \input adaptnnloop.pic
  \caption{Контур управления с нейросетевым регулятором и
           нейросетевой моделью объекта управления.}%
  \label{fig:adaptnnloop}
\end{figure}
